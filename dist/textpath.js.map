{"version":3,"sources":["webpack:///dist/textpath.js","webpack:///webpack/bootstrap cf6864921d200e415163","webpack:///./index.js"],"names":["textPath","modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","text","path","measure","draw","textAlign","pathLength","p1","ii","length","p2","Math","sqrt","pow","textLength","align","startM","offset","end","reverse","numChars","x1","y1","index","x2","y2","segmentM","segmentLength","char","charLength","charM","segmentPos","angle","atan2","PI","interpolate","value","default"],"mappings":"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","file":"dist/textpath.js","sourcesContent":["var textPath =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = textPath;\n/**\n * To render text to a\n * [CanvasRenderingContext2D](https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D),\n * use something like the following code:\n *\n * ```js\n * var canvas = document.getElementById('myCanvas');\n * var ctx = canvas.getContext('2d');\n *\n * var path = [[20, 33], [40, 31], [60, 30], [80, 31], [100, 33]];\n *\n * function measureText(text) {\n *   return ctx.measureText(text).width;\n * }\n *\n * function draw(letter, x, y, angle) {\n *   ctx.save();\n *   ctx.translate(x, y);\n *   ctx.rotate(angle);\n *   ctx.fillText(letter, 0, 0);\n *   ctx.restore();\n * }\n *\n * textPath('My text path :-)', path, measureText, draw);\n * ```\n *\n *\n * @param {string} text Text to draw along the `path`.\n * @param {Array<Array<number>>} path Path represented in coordinate pairs.\n * @param {Function} measure Function that takes a text as argument and\n * returns the width of the provided text.\n * @param {Function} draw Function that takes a letter, its x coordinate, y\n * coordinate and angle (in radians) as arguments. It is typically used to draw\n * the provided letter to a canvas.\n * @param {string} [textAlign='center'] Text alignment along the path. One of\n * 'left', 'center', 'right'.\n */\nfunction textPath(text, path, measure, draw, textAlign) {\n  var pathLength = 0;\n  var p1 = path[0];\n  for (var i = 1, ii = path.length; i < ii; ++i) {\n    var p2 = path[i];\n    pathLength += Math.sqrt(Math.pow(p2[0] - p1[0], 2) + Math.pow(p2[1] - p1[1], 2));\n    p1 = p2;\n  }\n  var textLength = measure(text);\n  var align = textAlign == 'left' ? 0 : textAlign == 'right' ? 1 : 0.5;\n  var startM = (pathLength - textLength) * align;\n  var offset = 0;\n  var end = path.length;\n\n  // Keep text upright\n  var reverse = path[offset][0] > path[end - 1][0];\n\n  var numChars = text.length;\n\n  var x1 = path[offset][0];\n  var y1 = path[offset][1];\n  offset += 1;\n  var x2 = path[offset][0];\n  var y2 = path[offset][1];\n  var segmentM = 0;\n  var segmentLength = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n\n  var index;\n  for (var i = 0; i < numChars; ++i) {\n    index = reverse ? numChars - i - 1 : i;\n    var char = text[index];\n    var charLength = measure(char);\n    var charM = startM + charLength / 2;\n    while (offset < end - 1 && segmentM + segmentLength < charM) {\n      x1 = x2;\n      y1 = y2;\n      offset += 1;\n      x2 = path[offset][0];\n      y2 = path[offset][1];\n      segmentM += segmentLength;\n      segmentLength = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n    }\n    var segmentPos = charM - segmentM;\n    var angle = Math.atan2(y2 - y1, x2 - x1);\n    if (reverse) {\n      angle += angle > 0 ? -Math.PI : Math.PI;\n    }\n    var interpolate = segmentPos / segmentLength;\n    var x = x1 + interpolate * (x2 - x1);\n    var y = y1 + interpolate * (y2 - y1);\n    draw(char, x, y, angle);\n    startM += charLength;\n  }\n}\nmodule.exports = exports['default'];\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// dist/textpath.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cf6864921d200e415163","/**\n * To render text to a\n * [CanvasRenderingContext2D](https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D),\n * use something like the following code:\n *\n * ```js\n * var canvas = document.getElementById('myCanvas');\n * var ctx = canvas.getContext('2d');\n *\n * var path = [[20, 33], [40, 31], [60, 30], [80, 31], [100, 33]];\n *\n * function measureText(text) {\n *   return ctx.measureText(text).width;\n * }\n *\n * function draw(letter, x, y, angle) {\n *   ctx.save();\n *   ctx.translate(x, y);\n *   ctx.rotate(angle);\n *   ctx.fillText(letter, 0, 0);\n *   ctx.restore();\n * }\n *\n * textPath('My text path :-)', path, measureText, draw);\n * ```\n *\n *\n * @param {string} text Text to draw along the `path`.\n * @param {Array<Array<number>>} path Path represented in coordinate pairs.\n * @param {Function} measure Function that takes a text as argument and\n * returns the width of the provided text.\n * @param {Function} draw Function that takes a letter, its x coordinate, y\n * coordinate and angle (in radians) as arguments. It is typically used to draw\n * the provided letter to a canvas.\n * @param {string} [textAlign='center'] Text alignment along the path. One of\n * 'left', 'center', 'right'.\n */\nexport default function textPath(text, path, measure, draw, textAlign) {\n  var pathLength = 0;\n  var p1 = path[0]\n  for (var i = 1, ii = path.length; i < ii; ++i) {\n    var p2 = path[i];\n    pathLength += Math.sqrt(Math.pow(p2[0] - p1[0], 2) + Math.pow(p2[1] - p1[1], 2));\n    p1 = p2;\n  }\n  var textLength = measure(text);\n  var align = textAlign == 'left' ? 0 : textAlign == 'right' ? 1 : 0.5;\n  var startM = (pathLength - textLength) * align;\n  var offset = 0;\n  var end = path.length;\n\n  // Keep text upright\n  var reverse = path[offset][0] > path[end - 1][0];\n\n  var numChars = text.length;\n\n  var x1 = path[offset][0];\n  var y1 = path[offset][1];\n  offset += 1;\n  var x2 = path[offset][0];\n  var y2 = path[offset][1];\n  var segmentM = 0;\n  var segmentLength = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n\n  var index;\n  for (var i = 0; i < numChars; ++i) {\n    index = reverse ? numChars - i - 1 : i;\n    var char = text[index];\n    var charLength = measure(char);\n    var charM = startM + charLength / 2;\n    while (offset < end - 1 && segmentM + segmentLength < charM) {\n      x1 = x2;\n      y1 = y2;\n      offset += 1;\n      x2 = path[offset][0];\n      y2 = path[offset][1];\n      segmentM += segmentLength;\n      segmentLength = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n    }\n    var segmentPos = charM - segmentM;\n    var angle = Math.atan2(y2 - y1, x2 - x1);\n    if (reverse) {\n      angle += angle > 0 ? -Math.PI : Math.PI;\n    }\n    var interpolate = segmentPos / segmentLength;\n    var x = x1 + interpolate * (x2 - x1);\n    var y = y1 + interpolate * (y2 - y1);\n    draw(char, x, y, angle);\n    startM += charLength;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./index.js"],"sourceRoot":""}